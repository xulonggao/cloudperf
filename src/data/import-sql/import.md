## 📋 CloudPerf数据上传设计详解

### 🔄 数据上传流程设计

1. 上传脚本: upload_sql.sh 将文件上传到S3的import-sql/目录
2. S3事件触发: S3上传事件自动触发admin Lambda函数
3. 自动处理: admin Lambda自动执行SQL文件或解压ZIP文件并执行其中的SQL

### 📁 支持的文件格式

• **单个SQL文件**: .sql 文件直接执行
• **ZIP压缩包**: .zip 文件会被解压，执行其中所有的.sql文件

### 🗂️ 数据库表结构

根据数据目录，系统需要以下核心数据表：
• country.sql - 国家信息
• city.sql - 城市信息  
• asn.sql - ASN(自治系统)信息
• iprange.sql - IP地址段信息
• cityset.sql - 城市集合信息

### 💡 推荐的数据上传方式

方式1: 上传ZIP压缩包 (推荐)


方式2: 逐个上传SQL文件



### 🎯 建议操作

建议使用**ZIP压缩包方式**，因为：
1. 一次性上传所有数据，避免依赖关系问题
2. 系统会自动按文件名顺序处理
3. 减少手动操作步骤